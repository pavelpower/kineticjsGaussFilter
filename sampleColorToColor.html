<!DOCTYPE HTML>
<html>
<head>
    <style>
        body { margin: 0px; padding: 0px; background-color: #000000; }
    </style>
    <script src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.3.1.js"></script>
    <script src="/ColorToColor.js"></script>
</head>
<body>
<div id="container"></div>
<script>
    (function() {
        var stage = new Kinetic.Stage({
            container: 'container',
            width: 578,
            height: 200
        });
        var layer = new Kinetic.Layer();

        stage.add(layer);

        var imageObj = new Image();

        imageObj.onload = function() {

            var filteredImage = new Kinetic.Image({
                x: 10,
                y: 10,
                image: imageObj,
                width: 106,
                height: 118
            });

            layer.add(filteredImage);

            filteredImage.applyFilter(Kinetic.Filters.ColorToColor, {
                color: '#ff0000',
                toColor: '#ff0000bb',
                interval: 60
            }, function(img) {
                layer.draw();
            });
        };
        imageObj.src = '/img.png';
    }) ();

</script>
</body>
</html>